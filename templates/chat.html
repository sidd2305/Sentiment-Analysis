<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/styles.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/cappy.css') }}"
    />
   
    <!-- Google Fonts Link For Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <title>Journal Sentiment Analysis</title>
</head>
<body>
    <div class="navbar">
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('chat') }}">Retrospect</a>
        <a href="{{ url_for('about') }}">About</a>
    </div>
    <div class="video-container">
        <video autoplay muted loop id="video-bg">
            <source src="{{ url_for('static', filename='videos/bg1.mp4') }}" type="video/mp4" />
        </video>
        <div class="homepage-container">
            <div class="content">
                <h1 id="maintopic">A Journey Through Your Journal</h1><br>
                <p id="info">Here's a look at how you've been through your journal entries</p><br>
                <img id="plot-img" src="" alt="Sentiment Analysis Plot">
                <p id="info">Reminder: Emotional well-being is a slow process and takes time. So be kind and patient with yourself and watch yourself grow.</p>
        
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        // Fetch the plot
                        fetch('{{ url_for("get_plot") }}')
                            .then(response => response.json())
                            .then(data => {
                                console.log(data);
        
                                // Display the plot
                                document.getElementById('plot-img').src = 'data:image/png;base64,' + data.plot;
                            });
                    });
                </script>
            </div>
        </div>
    </div>
</body>
</html>
